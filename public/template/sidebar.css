/* === THEME === */
:root{
  --sb-bg:#001B2A;
  --sb-text:#EAF2F8;
  --sb-accent:#FF6800;
  --sb-overlay:rgba(0,0,0,.45);
  --sb-hover:rgba(255,255,255,.08);
  --sb-sub-border:rgba(255,255,255,.12);
}

/* Overlay */
.sb-overlay{
  position:fixed; inset:0; z-index:998;
  background:var(--sb-overlay);
  opacity:0; pointer-events:none;
  transition:opacity .2s ease;
}
.sb-overlay[hidden]{ display:none; }
.sb-overlay.is-open{ opacity:1; pointer-events:auto; }

/* Drawer */
.sb-drawer{
  position:fixed; top:0; bottom:0; left:0;
  width:300px; max-width:85svw; /* svw برای موبایل‌های با نوار آدرس */
  transform:translateX(-100%); transition:transform .25s ease;
  background:var(--sb-bg); color:var(--sb-text);
  z-index:999; overflow-y:auto; padding:16px 16px 24px;
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  -webkit-overflow-scrolling:touch;
  will-change:transform; contain:layout paint;
}
.sb-drawer.is-open{ transform:translateX(0); }

.sb-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }
.sb-logo{ max-height:52px; width:auto; }
.sb-close{
  appearance:none; background:transparent; border:0;
  font-size:28px; line-height:1; color:var(--sb-text);
  cursor:pointer; padding:6px 8px; border-radius:8px;
}
.sb-close:hover{ background:var(--sb-hover); }

/* ناوبری */
.sb-nav ul{ list-style:none; margin:0; padding:0; }
.sb-nav > ul > li > a{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 10px; color:var(--sb-accent);
  text-decoration:none; border-radius:8px; font-weight:600;
}
.sb-nav > ul > li > a:hover{ background:var(--sb-hover); }

.sb-nav .vmegamenu{
  position:static !important; display:none; background:transparent;
  padding:4px 0 8px 12px; min-width:0; list-style:none; margin:0;
  border-left:1px solid var(--sb-sub-border);
}
.sb-nav .vmegamenu a{
  display:block; padding:8px 8px; color:var(--sb-text);
  text-decoration:none; border-radius:6px; opacity:.95; font-weight:500;
}
.sb-nav .vmegamenu a:hover{ background:var(--sb-hover); }

.sb-nav a.has-sub .chev{ margin-left:8px; transform:rotate(0deg); transition:transform .2s ease; }
.sb-nav a.has-sub.is-open .chev{ transform:rotate(90deg); }

/* Focus states برای دسترسی‌پذیری */
.sb-nav a:focus-visible, .sb-close:focus-visible{
  outline:2px solid var(--sb-accent); outline-offset:2px;
}

/* جلوگیری از اسکرول بک‌گراند وقتی دراور باز است */
body.noscroll{ overflow:hidden; }

/* اختیاری: اگر نمی‌خواهی در دسکتاپ دیده شود، این بخش را فعال نگه دار */
@media (min-width:992px){
  .sb-overlay{ display:none !important; }
  .sb-drawer{ display:none !important; }
}

/* احترام به کاربرانی که motion را کاهش داده‌اند */
@media (prefers-reduced-motion:reduce){
  .sb-overlay, .sb-drawer{ transition:none !important; }
}
